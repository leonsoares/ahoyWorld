<%- include("../partials/header.js") %>

<div class="card" style="width: 18rem;">
    <img src="<%=user.avatar%>" class="card-img-top" alt="...">
    <div class="card-body">
        <h5 class="card-title">@<%= user.username %></h5>

        <%  if(currentUser && user.id != currentUser._id){ %>
            <% if(isFollowing !== true) { %>
              <a href="/follow/<%= user.id %>"><button class="btn btn-primary">Follow</button></a>
              <% } else { %>
                <a href="/unfollow/<%= user.id %>"><button class="btn btn-primary">unfollow</button></a>
            <% } %>
          <% }  else { %>
            <a href="/user/edit/<%= user.id %>"><button class="btn btn-primary">edit</button></a>
          <% }  %>
        
        <p class="card-text">Some quick example text to build on the card title and make up the bulk of the card's content.</p>
    </div>
    <ul class="list-group list-group-flush">
        <li class="list-group-item">Cras justo odio</li>
        <li class="list-group-item">Dapibus ac facilisis in</li>
        <li class="list-group-item">Vestibulum at eros</li>
    </ul>
    <div class="card-body">
    <% if(currentUser && user._id.equals(currentUser._id)){ %>
       <!-- Button trigger modal -->
    <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#exampleModal">
        Edit
    </button>
      
      
        <%  } %>
    </div>
    <div class="card-footer text-muted">
        Member since <%= user._id.getTimestamp() %>
    </div>

<h5 class="card-title">@<%= user.username %>'s posts:</h5>
 <ul>
    <% scenes.forEach(function(scene){ %>
        <li> <a href="/scenes/<%=scene.id%>"> <%= scene.name%></a></li>
    <% }) %>
</ul>

<!-- Modal -->

<div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="exampleModalLabel">Modal title</h5>
              <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
            <div class="modal-body">
              ...
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
              <button type="button" class="btn btn-primary">Save changes</button>
            </div>
          </div>
        </div>
      </div>

<%- include("../partials/footer.js") %>