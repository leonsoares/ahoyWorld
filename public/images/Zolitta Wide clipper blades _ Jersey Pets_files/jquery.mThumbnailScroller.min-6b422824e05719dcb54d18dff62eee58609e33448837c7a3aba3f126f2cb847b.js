!function(A,_){var B,s="mThumbnailScroller",z="mTS",a=".mThumbnailScroller",l={setTop:0,setLeft:0,type:"hover-50",axis:"x",speed:15,contentTouchScroll:25,markup:{buttonsPlaceholder:!1,buttonsHTML:{up:"SVG set 1",down:"SVG set 1",left:"SVG set 1",right:"SVG set 1"}},advanced:{autoExpandHorizontalScroll:!0,updateOnContentResize:!0,updateOnImageLoad:!0},theme:"none",callbacks:{onTotalScrollOffset:0,onTotalScrollBackOffset:0,alwaysTriggerOffsets:!0}},r=0,i={},c=_.attachEvent&&!_.addEventListener?1:0,P=!1,d=["mTS_disabled","mTS_destroyed","mTS_no_scroll"],x={init:function(o){var o=A.extend(!0,{},l,o),t=u.call(this);if(o.live){var e=o.liveSelector||this.selector||a,n=A(e);if("off"===o.live)return void f(e);i[e]=setTimeout(function(){n.mThumbnailScroller(o),"once"===o.live&&n.length&&f(e)},500)}else f(e);return o.speed=0===o.speed?100:o.speed,h(o),A(t).each(function(){var t=A(this);if(!t.data(z)){t.data(z,{idx:++r,opt:o,html:null,overflowed:null,bindEvents:!1,tweenRunning:!1,langDir:t.css("direction"),cbOffsets:null,trigger:null});var e=t.data(z).opt,n=t.data("mts-axis"),a=t.data("mts-type"),i=t.data("mts-theme");n&&(e.axis=n),a&&(e.type=a),i&&(e.theme=i,h(e)),p.call(this),x.update.call(null,t)}})},update:function(t){var e=t||u.call(this);return A(e).each(function(){var t=A(this);if(t.data(z)){var e=t.data(z),n=e.opt,a=A("#mTS_"+e.idx+"_container");if(!a.length)return;e.tweenRunning&&V(t),t.hasClass(d[0])&&t.removeClass(d[0]),t.hasClass(d[1])&&t.removeClass(d[1]),T.call(this),o.call(this),e.overflowed=S.call(this),M.call(this),b.call(this);var i=[a[0].offsetTop,a[0].offsetLeft];"x"!==n.axis&&(e.overflowed[0]?G(t,i[0].toString(),{dir:"y",dur:0,overwrite:"none"}):(w.call(this),"y"===n.axis?(G(t,"0",{dir:"y",dur:0,overwrite:"none"}),y.call(this)):"yx"===n.axis&&e.overflowed[1]&&G(t,i[1].toString(),{dir:"x",dur:0,overwrite:"none"}))),"y"!==n.axis&&(e.overflowed[1]?G(t,i[1].toString(),{dir:"x",dur:0,overwrite:"none"}):(w.call(this),"x"===n.axis?(G(t,"0",{dir:"x",dur:0,overwrite:"none"}),y.call(this)):"yx"===n.axis&&e.overflowed[0]&&G(t,i[0].toString(),{dir:"y",dur:0,overwrite:"none"}))),e.overflowed[0]||e.overflowed[1]?t.removeClass(d[2]):t.addClass(d[2]),U.call(this)}})},scrollTo:function(l,s){if("undefined"!=typeof l&&null!=l){var t=u.call(this);return A(t).each(function(){var t=A(this);if(t.data(z)){var e=t.data(z),n=e.opt,a={trigger:"external",speed:n.speed,duration:1e3,easing:"easeInOut",timeout:60,callbacks:!0,onStart:!0,onUpdate:!0,onComplete:!0},i=A.extend(!0,{},a,s),o=F.call(this,l),r=i.duration?i.duration:7e3/(i.speed||1);o[0]=R.call(this,o[0],"y"),o[1]=R.call(this,o[1],"x"),i.dur=r>0&&17>r?17:r,setTimeout(function(){null!==o[0]&&"undefined"!=typeof o[0]&&"x"!==n.axis&&e.overflowed[0]&&(i.dir="y",i.overwrite="all",G(t,-o[0].toString(),i)),null!==o[1]&&"undefined"!=typeof o[1]&&"y"!==n.axis&&e.overflowed[1]&&(i.dir="x",i.overwrite="none",G(t,-o[1].toString(),i))},i.timeout)}})}},stop:function(){var t=u.call(this);return A(t).each(function(){var t=A(this);t.data(z)&&V(t)})},disable:function(n){var t=u.call(this);return A(t).each(function(){var t=A(this);if(t.data(z)){{var e=t.data(z);e.opt}U.call(this,"remove"),y.call(this),n&&w.call(this),M.call(this,!0),t.addClass(d[0])}})},destroy:function(){var o=u.call(this);return A(o).each(function(){var t=A(this);if(t.data(z)){var e=t.data(z),n=e.opt,a=A("#mTS_"+e.idx),i=(A("#mTS_"+e.idx+"_container"),A("#mTS_"+e.idx+"_buttonUp,#mTS_"+e.idx+"_buttonDown,#mTS_"+e.idx+"_buttonLeft,#mTS_"+e.idx+"_buttonRight"));n.live&&f(o),U.call(this,"remove"),y.call(this),w.call(this),t.removeData(z),N(this,"mts"),i.remove(),a.replaceWith(e.html),t.removeClass(s+" _"+z+"_"+e.idx+" "+z+"-"+n.theme+" "+d[2]+" "+d[0]).addClass(d[1])}})}},u=function(){return"object"!=typeof A(this)||A(this).length<1?a:this},h=function(t){var e=["buttons-out"],n=["buttons-in"],a=["buttons-out"],i=["hover-classic"],o=["hover-full"];t.markup.buttonsPlaceholder=A.inArray(t.theme,e)>-1?"outside":t.markup.buttonsPlaceholder,t.markup.buttonsHTML=A.inArray(t.theme,n)>-1?{up:"SVG set 2",down:"SVG set 2",left:"SVG set 2",right:"SVG set 2"}:A.inArray(t.theme,a)>-1?{up:"SVG set 3",down:"SVG set 3",left:"SVG set 3",right:"SVG set 3"}:t.markup.buttonsHTML,t.type=A.inArray(t.theme,i)>-1?"hover-85":A.inArray(t.theme,o)>-1?"hover-precise":t.type,t.speed=A.inArray(t.theme,i)>-1?60:A.inArray(t.theme,o)>-1?10:t.speed},f=function(t){i[t]&&(clearTimeout(i[t]),N(i,t))},p=function(){var t=A(this),e=t.data(z),n=e.opt,a="yx"===n.axis?"mTS_vertical_horizontal":"x"===n.axis?"mTS_horizontal":"mTS_vertical",i=n.markup.thumbnailsContainer||"ul",o=n.markup.thumbnailContainer||"li",r=n.markup.thumbnailElement||"img";if(e.html=t.children().clone(!0,!0),!t.find(i).length){var l=t.find("li").length?"<ul class='"+z+"AutoContainer' />":"<div class='"+z+"AutoContainer' />";t.wrapInner(l),i="."+z+"AutoContainer"}n.setWidth&&t.css("width",n.setWidth),n.setHeight&&t.css("height",n.setHeight),n.setLeft="y"!==n.axis&&"rtl"===e.langDir?"-989999px":n.setLeft,t.addClass(s+" _"+z+"_"+e.idx+" "+z+"-"+n.theme).find(i).wrap("<div id='mTS_"+e.idx+"' class='mTSWrapper "+a+"' />").addClass(z+"Container").attr("id","mTS_"+e.idx+"_container").css({position:"relative",top:n.setTop,left:n.setLeft}).find(o).addClass(z+"ThumbContainer").find(r).addClass(z+"Thumb"),m.call(this)},o=function(){var t=A(this),e=t.data(z),n=e.opt,a=A("#mTS_"+e.idx+"_container");n.advanced.autoExpandHorizontalScroll&&"y"!==n.axis&&a.css({position:"absolute",width:"auto"}).wrap("<div class='mTS_h_wrapper' style='position:relative; left:0; width:999999px;' />").css({width:Math.ceil(a[0].getBoundingClientRect().right)-Math.floor(a[0].getBoundingClientRect().left),position:"relative"}).unwrap()},m=function(){{var t=A(this),e=t.data(z),n=e.opt,a=n.markup.buttonsPlaceholder?"outside"===n.markup.buttonsPlaceholder?t:A(n.markup.buttonsPlaceholder):A("#mTS_"+e.idx),i=["<a href='#' id='mTS_"+e.idx+"_buttonUp' class='mTSButton mTSButtonUp'><span class='mTSButtonIconContainer'>"+v.call(this,"up")+"</span></a>","<a href='#' id='mTS_"+e.idx+"_buttonDown' class='mTSButton mTSButtonDown'><span class='mTSButtonIconContainer'>"+v.call(this,"down")+"</span></a>","<a href='#' id='mTS_"+e.idx+"_buttonLeft' class='mTSButton mTSButtonLeft'><span class='mTSButtonIconContainer'>"+v.call(this,"left")+"</span></a>","<a href='#' id='mTS_"+e.idx+"_buttonRight' class='mTSButton mTSButtonRight'><span class='mTSButtonIconContainer'>"+v.call(this,"right")+"</span></a>"];["x"===n.axis?i[2]:i[0],"x"===n.axis?i[3]:i[1]]}a.hasClass(s)&&"static"===a.css("position")&&a.css("position","relative"),-1!==n.type.indexOf("click")&&("x"!==n.axis&&a.append(i[0]+i[1]),"y"!==n.axis&&a.append(i[2]+i[3]))},v=function(t){var e=A(this),n=e.data(z),a=n.opt,i=a.markup.buttonsHTML,o="SVG set 1"===i[t]?0:"SVG set 2"===i[t]?1:"SVG set 3"===i[t]?2:"SVG set 4"===i[t]?3:"SVG set 5"===i[t]?4:null;switch(t){case"up":return null===o?i[t]:c?"&uarr;":g(i[t])[o][0];case"down":return null===o?i[t]:c?"&darr;":g(i[t])[o][1];case"left":return null===o?i[t]:c?"&larr;":g(i[t])[o][2];case"right":return null===o?i[t]:c?"&rarr;":g(i[t])[o][3]}},g=function(){var t="<svg version='1.1' viewBox='0 0 24 24' preserveAspectRatio='xMinYMin meet' class='mTSButtonIcon'><g><line stroke-width='1' x1='' y1='' x2='' y2='' stroke='#449FDB' opacity=''></line></g>",e="</svg>";return[[t+"<path d='M20.561 9.439l-7.5-7.5c-0.586-0.586-1.535-0.586-2.121 0l-7.5 7.5c-0.586 0.586-0.586 1.536 0 2.121s1.536 0.586 2.121 0l4.939-4.939v14.379c0 0.828 0.672 1.5 1.5 1.5s1.5-0.672 1.5-1.5v-14.379l4.939 4.939c0.293 0.293 0.677 0.439 1.061 0.439s0.768-0.146 1.061-0.439c0.586-0.586 0.586-1.535 0-2.121z'></path>"+e,t+"<path d='M3.439 14.561l7.5 7.5c0.586 0.586 1.536 0.586 2.121 0l7.5-7.5c0.586-0.586 0.586-1.536 0-2.121s-1.536-0.586-2.121 0l-4.939 4.939v-14.379c0-0.828-0.672-1.5-1.5-1.5s-1.5 0.672-1.5 1.5v14.379l-4.939-4.939c-0.293-0.293-0.677-0.439-1.061-0.439s-0.768 0.146-1.061 0.439c-0.586 0.586-0.586 1.536 0 2.121z'></path>"+e,t+"<path d='M9.439 3.439l-7.5 7.5c-0.586 0.586-0.586 1.536 0 2.121l7.5 7.5c0.586 0.586 1.536 0.586 2.121 0s0.586-1.536 0-2.121l-4.939-4.939h14.379c0.828 0 1.5-0.672 1.5-1.5s-0.672-1.5-1.5-1.5h-14.379l4.939-4.939c0.293-0.293 0.439-0.677 0.439-1.061s-0.146-0.768-0.439-1.061c-0.586-0.586-1.536-0.586-2.121 0z'></path>"+e,t+"<path d='M14.561 20.561l7.5-7.5c0.586-0.586 0.586-1.536 0-2.121l-7.5-7.5c-0.586-0.586-1.536-0.586-2.121 0s-0.586 1.536 0 2.121l4.939 4.939h-14.379c-0.828 0-1.5 0.672-1.5 1.5s0.672 1.5 1.5 1.5h14.379l-4.939 4.939c-0.293 0.293-0.439 0.677-0.439 1.061s0.146 0.768 0.439 1.061c0.586 0.586 1.536 0.586 2.121 0z'></path>"+e],[t+"<path d='M18.58 13.724c-0.488-0.502-5.634-5.402-5.634-5.402-0.262-0.268-0.604-0.402-0.946-0.402-0.343 0-0.685 0.134-0.946 0.402 0 0-5.146 4.901-5.635 5.402-0.488 0.502-0.522 1.404 0 1.939 0.523 0.534 1.252 0.577 1.891 0l4.69-4.496 4.688 4.496c0.641 0.577 1.37 0.534 1.891 0 0.523-0.536 0.491-1.439 0-1.939z'</path>"+e,t+"<path d='M18.58 10.276c-0.488 0.502-5.634 5.404-5.634 5.404-0.262 0.268-0.604 0.401-0.946 0.401-0.343 0-0.685-0.133-0.946-0.401 0 0-5.146-4.902-5.635-5.404-0.488-0.502-0.522-1.403 0-1.939 0.523-0.535 1.252-0.577 1.891 0l4.69 4.498 4.688-4.496c0.641-0.577 1.37-0.535 1.891 0 0.523 0.535 0.491 1.438 0 1.938z'></path>"+e,t+"<path d='M13.724 5.419c-0.502 0.49-5.402 5.635-5.402 5.635-0.268 0.262-0.401 0.604-0.401 0.946s0.133 0.684 0.401 0.946c0 0 4.901 5.146 5.402 5.634 0.502 0.49 1.404 0.523 1.939 0 0.534-0.522 0.576-1.25-0.001-1.89l-4.496-4.69 4.496-4.69c0.577-0.641 0.535-1.369 0.001-1.891-0.536-0.522-1.439-0.49-1.939 0z'></path>"+e,t+"<path d='M10.276 5.419c0.502 0.49 5.402 5.635 5.402 5.635 0.269 0.262 0.402 0.604 0.402 0.946s-0.133 0.684-0.402 0.946c0 0-4.901 5.146-5.402 5.634-0.502 0.49-1.403 0.523-1.939 0-0.535-0.522-0.577-1.25 0-1.89l4.498-4.69-4.496-4.69c-0.577-0.641-0.535-1.369 0-1.891s1.438-0.49 1.938 0z'></path>"+e],[t+"<path d='M20.902 17.279c0.325 0.322 0.851 0.322 1.175 0 0.325-0.322 0.325-0.841 0-1.163l-9.49-9.396c-0.324-0.322-0.85-0.322-1.174 0l-9.49 9.396c-0.324 0.322-0.325 0.841 0 1.163s0.85 0.322 1.175 0l8.902-8.569 8.902 8.569z'></path>"+e,t+"<path d='M3.098 6.721c-0.325-0.322-0.851-0.322-1.175 0-0.324 0.32-0.324 0.841 0 1.163l9.49 9.396c0.325 0.322 0.85 0.322 1.175 0l9.49-9.396c0.324-0.322 0.325-0.841 0-1.163s-0.852-0.322-1.175-0.001l-8.903 8.569-8.902-8.568z'></path>"+e,t+"<path d='M17.279 20.902c0.322 0.325 0.322 0.85 0 1.175s-0.841 0.325-1.163 0l-9.396-9.488c-0.322-0.325-0.322-0.851 0-1.175l9.396-9.49c0.322-0.325 0.841-0.325 1.163 0s0.322 0.85 0 1.175l-8.568 8.902 8.568 8.902z'</path>"+e,t+"<path d='M6.72 20.902c-0.322 0.325-0.322 0.85 0 1.175s0.841 0.325 1.163 0l9.396-9.488c0.322-0.325 0.322-0.851 0-1.175l-9.396-9.49c-0.322-0.325-0.841-0.325-1.163 0s-0.322 0.85 0 1.175l8.568 8.902-8.568 8.902z'</path>"+e],[t+"<path d='M12 0l-12 12h7.5v12l9 0v-12h7.5z'></path>"+e,t+"<path d='M12 24l12-12h-7.5v-12l-9-0v12h-7.5z'></path>"+e,t+"<path d='M0 12l12 12v-7.5h12l0-9h-12v-7.5z'></path>"+e,t+"<path d='M24 12l-12-12v7.5h-12l-0 9h12v7.5z'></path>"+e],[t+"<path d='M6.48 16.8h11.040l-5.521-9.6z'></path>"+e,t+"<path d='M17.52 7.201l-11.040-0.001 5.52 9.6z'></path>"+e,t+"<path d='M16.799 6.48l0.001 11.040-9.6-5.52z'></path>"+e,t+"<path d='M7.201 6.48l-0.001 11.040 9.6-5.52z'></path>"+e]]},T=function(){var t=A(this),e=t.data(z),n=(e.opt,A("#mTS_"+e.idx)),a=t.css("max-height"),i=-1!==a.indexOf("%"),o=t.css("box-sizing");if("none"!==a){var r=i?t.parent().height()*parseInt(a)/100:parseInt(a);"border-box"===o&&(r-=t.innerHeight()-t.height()+(t.outerHeight()-t.innerHeight())),n.css("max-height",Math.round(r))}},S=function(){var t=A(this),e=t.data(z),n=A("#mTS_"+e.idx),a=A("#mTS_"+e.idx+"_container");return[a.height()>n.height(),a.width()>n.width()]},w=function(){var t=A(this),e=t.data(z),n=e.opt,a=A("#mTS_"+e.idx),i=A("#mTS_"+e.idx+"_container");if(V(t),("x"!==n.axis&&!e.overflowed[0]||"y"===n.axis&&e.overflowed[0])&&i.css("top",0),"y"!==n.axis&&!e.overflowed[1]||"x"===n.axis&&e.overflowed[1]){var o="rtl"===e.langDir?a.width()-i.width():0;i.css("left",o)}},b=function(){var t=A(this),e=t.data(z),n=e.opt;e.bindEvents||(n.contentTouchScroll&&k.call(this),-1!==n.type.indexOf("hover")?"hover-precise"===n.type?O.call(this):I.call(this):-1!==n.type.indexOf("click")&&L.call(this),e.bindEvents=!0)},y=function(){var t=A(this),e=t.data(z),n=z+"_"+e.idx,a=A("#mTS_"+e.idx+",#mTS_"+e.idx+"_container,#mTS_"+e.idx+"_buttonUp,#mTS_"+e.idx+"_buttonDown,#mTS_"+e.idx+"_buttonLeft,#mTS_"+e.idx+"_buttonRight"),i=A("#mTS_"+e.idx+"_container");e.bindEvents&&(a.each(function(){A(this).unbind("."+n)}),clearTimeout(i[0].onCompleteTimeout),N(i[0],"onCompleteTimeout"),e.bindEvents=!1)},M=function(t,e,n){var a=A(this),i=a.data(z),o=i.opt;if(-1!==o.type.indexOf("click")){n||(n=o.axis);var r=[A("#mTS_"+i.idx+"_buttonUp"),A("#mTS_"+i.idx+"_buttonDown"),A("#mTS_"+i.idx+"_buttonLeft"),A("#mTS_"+i.idx+"_buttonRight")],l=z+"-hidden";"x"!==n&&(sel=!i.overflowed[0]||t||e?1===e?[r[0],r[1]]:2===e?[r[1],r[0]]:[r[0].add(r[1]),null]:[i.overflowed[1]?null:r[2].add(r[3]),r[0].add(r[1])]),"y"!==n&&(sel=!i.overflowed[1]||t||e?1===e?[r[2],r[3]]:2===e?[r[3],r[2]]:[r[2].add(r[3]),null]:[i.overflowed[0]?null:r[0].add(r[1]),r[2].add(r[3])]),sel[0]&&sel[0].addClass(l),sel[1]&&sel[1].removeClass(l)}},E=function(t){var e=t.type;switch(e){case"pointerdown":case"MSPointerDown":case"pointermove":case"MSPointerMove":case"pointerup":case"MSPointerUp":return[t.originalEvent.pageY,t.originalEvent.pageX];case"touchstart":case"touchmove":case"touchend":var n=t.originalEvent.touches[0]||t.originalEvent.changedTouches[0];return[n.pageY,n.pageX];default:return[t.pageY,t.pageX]}},C=function(t){return B||-1!==t.type.indexOf("touch")||"undefined"!=typeof t.pointerType&&(2===t.pointerType||"touch"===t.pointerType)?"touch":"mouse"},k=function(){function d(t,e){var n=[1.5*e,2*e,e/1.5,e/2];return t>90?e>4?n[0]:n[3]:t>60?e>3?n[3]:n[2]:t>30?e>8?n[1]:e>6?n[0]:e>4?e:n[2]:e>8?e:n[3]}function u(t,e,n,a,i){t&&G(o,-t.toString(),{dur:e,easing:n,dir:a,overwrite:i})}var c,h,f,p,m,v,x,g,T,S,w,o=A(this),b=o.data(z),_=b.opt,t=z+"_"+b.idx,y=A("#mTS_"+b.idx),M=A("#mTS_"+b.idx+"_container"),C=[],k=[],O=0,I="yx"===_.axis?"none":"all",L=[];M.bind("touchstart."+t+" pointerdown."+t+" MSPointerDown."+t,function(t){if(Y(t)&&!P){var e=M.offset();c=E(t)[0]-e.top,h=E(t)[1]-e.left,L=[E(t)[0],E(t)[1]]}}).bind("touchmove."+t+" pointermove."+t+" MSPointerMove."+t,function(t){if(Y(t)&&!P){t.stopImmediatePropagation(),v=H();var e=y.offset(),n=E(t)[0]-e.top,a=E(t)[1]-e.left,i="linearOut";if(C.push(n),k.push(a),L[2]=Math.abs(E(t)[0]-L[0]),L[3]=Math.abs(E(t)[1]-L[1]),b.overflowed[0])var o=y.height()-M.height(),r=c-n>0&&n-c>o&&2*L[3]<L[2];if(b.overflowed[1])var l=y.width()-M.width(),s=h-a>0&&a-h>l&&2*L[2]<L[3];(r||s)&&t.preventDefault(),S="yx"===_.axis?[c-n,h-a]:"x"===_.axis?[null,h-a]:[c-n,null],M[0].idleTimer=250,b.overflowed[0]&&u(S[0],O,i,"y","all"),b.overflowed[1]&&u(S[1],O,i,"x",I)}}),y.bind("touchstart."+t+" pointerdown."+t+" MSPointerDown."+t,function(t){if(Y(t)&&!P){t.stopImmediatePropagation(),B=!0,V(o),m=H();var e=y.offset();f=E(t)[0]-e.top,p=E(t)[1]-e.left,C=[],k=[]}}).bind("touchend."+t+" pointerup."+t+" MSPointerUp."+t,function(t){if(Y(t)&&!P){t.stopImmediatePropagation(),x=H();var e=y.offset(),n=E(t)[0]-e.top,a=E(t)[1]-e.left;if(!(x-v>30)){T=1e3/(x-m);var i="easeOut",o=2.5>T,r=o?[C[C.length-2],k[k.length-2]]:[0,0];g=o?[n-r[0],a-r[1]]:[n-f,a-p];var l=[Math.abs(g[0]),Math.abs(g[1])];T=o?[Math.abs(g[0]/4),Math.abs(g[1]/4)]:[T,T];var s=[Math.abs(M[0].offsetTop)-g[0]*d(l[0]/T[0],T[0]),Math.abs(M[0].offsetLeft)-g[1]*d(l[1]/T[1],T[1])];S="yx"===_.axis?[s[0],s[1]]:"x"===_.axis?[null,s[1]]:[s[0],null],w=[4*l[0]+60*_.speed,4*l[1]+60*_.speed];var c=parseInt(_.contentTouchScroll)||0;S[0]=l[0]>c?S[0]:0,S[1]=l[1]>c?S[1]:0,b.overflowed[0]&&u(S[0],w[0],i,"y",I),b.overflowed[1]&&u(S[1],w[1],i,"x",I)}}})},O=function(){var r,l,s,c=A(this),d=c.data(z),u=d.opt,t=z+"_"+d.idx,h=A("#mTS_"+d.idx),f=A("#mTS_"+d.idx+"_container"),e=_.navigator.pointerEnabled?"pointermove":_.navigator.msPointerEnabled?"MSPointerMove":"mousemove";h.bind(e+"."+t,function(t){if("touch"!==C(t.originalEvent||t)&&(d.overflowed[0]||d.overflowed[1])){t.preventDefault();var e=h.height(),n=f.height(),a=h.width(),i=f.width(),o=i/a*7e3/(u.speed||1);r=[E(t)[0]-h.offset().top,E(t)[1]-h.offset().left],l=[r[0]/h.height(),r[1]/h.width()],s=[Math.round(-((n-e)*l[0])),Math.round(-((i-a)*l[1]))],"x"!==u.axis&&d.overflowed[0]&&G(c,s[0].toString(),{dir:"y",dur:o,easing:"easeOut"}),"y"!==u.axis&&d.overflowed[1]&&G(c,s[1].toString(),{dir:"x",dur:o,easing:"easeOut"})}})},I=function(){function e(){h[0].rAF||(i=_.requestAnimationFrame?_.requestAnimationFrame:function(t){return setTimeout(t,17)},h[0].rAF=i(a))}function n(){null!=h[0].rAF&&(_.requestAnimationFrame?_.cancelAnimationFrame(h[0].rAF):clearTimeout(h[0].rAF),clearTimeout(s),h[0].rAF=null)}function a(){if(!B){l=[r[0]+f[0].offsetTop,r[1]+f[0].offsetLeft];var t=[h.height()-f.height(),h.width()-f.width()];"x"!==u.axis&&d.overflowed[0]&&(l[0]=l[0]>0?0:l[0]<t[0]?t[0]:l[0],r[0]&&!T[0]&&G(c,l[0],{dir:"y",dur:0,easing:"linear"}),(l[0]>=0||l[0]<=t[0])&&(T[0]=1)),"y"!==u.axis&&d.overflowed[1]&&(l[1]=l[1]>0?0:l[1]<t[1]?t[1]:l[1],r[1]&&!T[1]&&G(c,l[1],{dir:"x",dur:0,easing:"linear"}),(l[1]>=0||l[1]<=t[1])&&(T[1]=1)),s=setTimeout(function(){h[0].rAF=i(a)},m)}}var i,o,r,l,s,c=A(this),d=c.data(z),u=d.opt,t=z+"_"+d.idx,h=A("#mTS_"+d.idx),f=A("#mTS_"+d.idx+"_container"),p=_.navigator.pointerEnabled?["pointerover","pointermove","pointerout"]:_.navigator.msPointerEnabled?["MSPointerOver","MSPointerMove","MSPointerOut"]:["mouseenter","mousemove","mouseleave"],m=_.requestAnimationFrame?0:17,v=u.speed,x=parseInt(u.type.split("hover-")[1])||1,g=v*x/100,T=[0,0];h.bind(p[0]+"."+t,function(t){"touch"!==C(t.originalEvent||t)&&(d.overflowed[0]||d.overflowed[1])&&e()}).bind(p[1]+"."+t,function(t){"touch"!==C(t.originalEvent||t)&&(d.overflowed[0]||d.overflowed[1])&&(o=[E(t)[0]-h.offset().top,E(t)[1]-h.offset().left],r=[Math.round(Math.cos(o[0]/h.height()*Math.PI)*v),Math.round(Math.cos(o[1]/h.width()*Math.PI)*v)],r[0]=r[0]<=-g?r[0]+=g:r[0]>=g?r[0]-=g:r[0]=0,r[1]=r[1]<=-g?r[1]+=g:r[1]>=g?r[1]-=g:r[1]=0,T=[0,0])}).bind(p[2]+"."+t,function(t){"touch"!==C(t.originalEvent||t)&&(d.overflowed[0]||d.overflowed[1])&&n()})},L=function(){var s=A(this),c=s.data(z),d=c.opt,t=z+"_"+c.idx,u=A("#mTS_"+c.idx),h=A("#mTS_"+c.idx+"_container"),e=[A("#mTS_"+c.idx+"_buttonUp"),A("#mTS_"+c.idx+"_buttonDown"),A("#mTS_"+c.idx+"_buttonLeft"),A("#mTS_"+c.idx+"_buttonRight")],n=e[0].add(e[1]).add(e[2]).add(e[3]);n.bind("click."+t,function(t){if(W(t)&&(c.overflowed[0]||c.overflowed[1])&&(t.preventDefault(),!c.tweenRunning)){if("x"!==d.axis&&c.overflowed[0]){var e=u.height(),n="click-thumb"===d.type?0:A(this).hasClass("mTSButtonUp")?"+=":A(this).hasClass("mTSButtonDown")?"-=":0;if("click-thumb"!==d.type)var a=parseInt(d.type.split("click-")[1])||1,i=n?[n+e*a/100,null]:0;else{var o=D.call(s[0])[0],r=D.call(s[0])[1];if(A(this).hasClass("mTSButtonDown"))var i=r?r[0].offsetTop-parseInt(r.css("margin-bottom"))-e:989999;else if(A(this).hasClass("mTSButtonUp")){var i=o?o[0].offsetTop-parseInt(o.css("margin-top")):0;if(0===h[0].offsetTop)return}}}if("y"!==d.axis&&c.overflowed[1]){var l=u.width(),n="click-thumb"===d.type?0:A(this).hasClass("mTSButtonLeft")?"+=":A(this).hasClass("mTSButtonRight")?"-=":0;if("click-thumb"!==d.type)var a=parseInt(d.type.split("click-")[1])||1,i=n?[null,n+l*a/100]:i;else{var o=D.call(s[0])[2],r=D.call(s[0])[3];if(A(this).hasClass("mTSButtonRight"))var i=r?r[0].offsetLeft-parseInt(r.css("margin-right"))-l:989999;else if(A(this).hasClass("mTSButtonLeft")){var i=o?o[0].offsetLeft-parseInt(o.css("margin-left")):0;if(0===h[0].offsetLeft)return}}}null!==i&&x.scrollTo.call(s[0],i,{duration:0})}})},D=function(){var i,o,r,l,t=A(this),e=t.data(z),s=(e.opt,A("#mTS_"+e.idx+"_container")),c=A("#mTS_"+e.idx),d=s.find(".mTSThumbContainer");return d.each(function(){var t=A(this),e=[Math.round(t.offset().top-s.offset().top+s[0].offsetTop),Math.round(t.offset().left-s.offset().left+s[0].offsetLeft)];if(e[0]<=0-parseInt(t.css("margin-top")))i=d.eq(0===e[0]?t.index()-1:t.index());else if(e[0]<=c.height()+parseInt(t.css("margin-bottom"))){var n=d.eq(t.index()+1);o=n.length?n:null}if(e[1]<=0-parseInt(t.css("margin-left")))r=d.eq(0===e[1]?t.index()-1:t.index());else if(e[1]<=c.width()+parseInt(t.css("margin-right"))){var a=d.eq(t.index()+1);l=a.length?a:null}}),[i,o,r,l]},F=function(t){var e=A(this).data(z).opt,n=[];return"function"==typeof t&&(t=t()),t instanceof Array?n=t.length>1?[t[0],t[1]]:"x"===e.axis?[null,t[0]]:[t[0],null]:(n[0]=t.y?t.y:t.x||"x"===e.axis?null:t,n[1]=t.x?t.x:t.y||"y"===e.axis?null:t),"function"==typeof n[0]&&(n[0]=n[0]()),"function"==typeof n[1]&&(n[1]=n[1]()),n},R=function(t,e){if(null!=t&&"undefined"!=typeof t){var n=A(this),a=n.data(z),i=a.opt,o=A("#mTS_"+a.idx),r=A("#mTS_"+a.idx+"_container"),l=typeof t;e||(e="x"===i.axis?"x":"y");var s="x"===e?r.width():r.height(),c="x"===e?r.offset().left:r.offset().top,d="x"===e?r[0].offsetLeft:r[0].offsetTop,u="x"===e?"left":"top";switch(l){case"function":return t();case"object":if(t.nodeType)var h="x"===e?A(t).offset().left:A(t).offset().top;else if(t.jquery){if(!t.length)return;var h="x"===e?t.offset().left:t.offset().top}return h-c;case"string":case"number":if(X(t))return Math.abs(t);if(-1!==t.indexOf("%"))return Math.abs(s*parseInt(t)/100);if(-1!==t.indexOf("-="))return Math.abs(d-parseInt(t.split("-=")[1]));if(-1!==t.indexOf("+=")){var f=d+parseInt(t.split("+=")[1]);return f>=0?0:Math.abs(f)}if(-1!==t.indexOf("px")&&X(t.split("px")[0]))return Math.abs(t.split("px")[0]);if("top"===t||"left"===t)return 0;if("bottom"===t)return Math.abs(o.height()-r.height());if("right"===t)return Math.abs(o.width()-r.width());if("first"===t||"last"===t){var p=r.find(":"+t),h="x"===e?A(p).offset().left:A(p).offset().top;return h-c}if(A(t).length){var h="x"===e?A(t).offset().left:A(t).offset().top;return h-c}return r.css(u,t),void x.update.call(null,n[0])}}},U=function(t){function e(){clearTimeout(d[0].autoUpdate),d[0].autoUpdate=setTimeout(function(){return s.advanced.updateOnSelectorChange&&(u=i(),u!==p)?(o(),void(p=u)):(s.advanced.updateOnContentResize&&(h=[d.height(),d.width(),c.height(),c.width(),r.height(),r.width()],(h[0]!==m[0]||h[1]!==m[1]||h[2]!==m[2]||h[3]!==m[3]||h[4]!==m[4]||h[5]!==m[5])&&(o(),m=h)),s.advanced.updateOnImageLoad&&(f=n(),f!==v&&(d.find("img").each(function(){a(this.src)}),v=f)),void((s.advanced.updateOnSelectorChange||s.advanced.updateOnContentResize||s.advanced.updateOnImageLoad)&&e()))},60)}function n(){var t=0;return s.advanced.updateOnImageLoad&&(t=d.find("img").length),t}function a(t){function e(t,e){return function(){return e.apply(t,arguments)}}function n(){this.onload=null,o()}var a=new Image;a.onload=e(a,n),a.src=t}function i(){s.advanced.updateOnSelectorChange===!0&&(s.advanced.updateOnSelectorChange="*");var t=0,e=d.find(s.advanced.updateOnSelectorChange);return s.advanced.updateOnSelectorChange&&e.length>0&&e.each(function(){t+=A(this).height()+A(this).width()}),t}function o(){clearTimeout(d[0].autoUpdate),x.update.call(null,r[0])}var r=A(this),l=r.data(z),s=l.opt,c=A("#mTS_"+l.idx),d=A("#mTS_"+l.idx+"_container");if(t)return clearTimeout(d[0].autoUpdate),void N(d[0],"autoUpdate");var u,h,f,p=i(),m=[d.height(),d.width(),c.height(),c.width(),r.height(),r.width()],v=n();e()},V=function(t){var e=t.data(z),n=A("#mTS_"+e.idx+"_container");n.each(function(){j.call(this)})},G=function(a,t,i){function e(t){return r&&l.callbacks[t]&&"function"==typeof l.callbacks[t]}function n(){return[l.callbacks.alwaysTriggerOffsets||p>=m+x,l.callbacks.alwaysTriggerOffsets||-g>=p]}function o(){var t=[d[0].offsetTop,d[0].offsetLeft],e=[d.height(),d.width()],n=[c.height(),c.width()];a[0].mts={content:d,top:t[0],left:t[1],topPct:Math.round(100*Math.abs(t[0])/(Math.abs(e[0])-n[0])),leftPct:Math.round(100*Math.abs(t[1])/(Math.abs(e[1])-n[1])),direction:i.dir}}var r=a.data(z),l=r.opt,s={trigger:"internal",dir:"y",easing:"easeOut",dur:60*l.speed,overwrite:"all",callbacks:!0,onStart:!0,onUpdate:!0,onComplete:!0},i=A.extend(s,i),c=A("#mTS_"+r.idx),d=A("#mTS_"+r.idx+"_container"),u=l.callbacks.onTotalScrollOffset?F.call(a,l.callbacks.onTotalScrollOffset):[0,0],h=l.callbacks.onTotalScrollBackOffset?F.call(a,l.callbacks.onTotalScrollBackOffset):[0,0];switch(r.trigger=i.trigger,(0!==c.scrollTop()||0!==c.scrollLeft())&&c.scrollTop(0).scrollLeft(0),i.dir){case"x":var f="left",p=d[0].offsetLeft,m=c.width()-d.width(),v=t,x=u[1],g=h[1],T=x>0?x:0,S=g>0?g:0;break;case"y":var f="top",p=d[0].offsetTop,m=c.height()-d.height(),v=t,x=u[0],g=h[0],T=x>0?x:0,S=g>0?g:0}v>=0?(v=0,M.call(a,!1,1,i.dir)):m>=v?(v=m,M.call(a,!1,2,i.dir)):(v=v,M.call(a,!1,0,i.dir)),a[0].mts||(o(),e("onInit")&&l.callbacks.onInit.call(a[0])),clearTimeout(d[0].onCompleteTimeout),(r.tweenRunning||!(0===p&&v>=0||p===m&&m>=v))&&q(d[0],f,Math.round(v),i.dur,i.easing,i.overwrite,{onStart:function(){i.callbacks&&i.onStart&&!r.tweenRunning&&(e("onScrollStart")&&(o(),l.callbacks.onScrollStart.call(a[0])),r.tweenRunning=!0,r.cbOffsets=n())},onUpdate:function(){i.callbacks&&i.onUpdate&&e("whileScrolling")&&(o(),l.callbacks.whileScrolling.call(a[0]))},onComplete:function(){if(i.callbacks&&i.onComplete){"yx"===l.axis&&clearTimeout(d[0].onCompleteTimeout);var t=d[0].idleTimer||0;d[0].onCompleteTimeout=setTimeout(function(){e("onScroll")&&(o(),l.callbacks.onScroll.call(a[0])),e("onTotalScroll")&&m+T>=v&&r.cbOffsets[0]&&(o(),l.callbacks.onTotalScroll.call(a[0])),e("onTotalScrollBack")&&v>=-S&&r.cbOffsets[1]&&(o(),l.callbacks.onTotalScrollBack.call(a[0])),r.tweenRunning=!1,d[0].idleTimer=0},t)}}})},q=function(t,e,n,a,i,o,r){function l(){w.stop||(g||p.call(),g=H()-x,s(),g>=w.time&&(w.time=g>w.time?g+h-(g-w.time):g+h-1,w.time<g+1&&(w.time=g+1)),w.time<a?w.id=f(l):v.call())}function s(){a>0?(w.currVal=u(w.time,T,b,a,i),S[e]=Math.round(w.currVal)+"px"):S[e]=n+"px",m.call()}function c(){h=1e3/60,w.time=g+h,f=_.requestAnimationFrame?_.requestAnimationFrame:function(t){return s(),setTimeout(t,.01)},w.id=f(l)}function d(){null!=w.id&&(_.requestAnimationFrame?_.cancelAnimationFrame(w.id):clearTimeout(w.id),w.id=null)}function u(t,e,n,a,i){switch(i){case"linear":return n*t/a+e;case"linearOut":return t/=a,t--,n*Math.sqrt(1-t*t)+e;case"easeInOutSmooth":return t/=a/2,1>t?n/2*t*t+e:(t--,-n/2*(t*(t-2)-1)+e);case"easeInOutStrong":return t/=a/2,1>t?n/2*Math.pow(2,10*(t-1))+e:(t--,n/2*(-Math.pow(2,-10*t)+2)+e);case"easeInOut":return t/=a/2,1>t?n/2*t*t*t+e:(t-=2,n/2*(t*t*t+2)+e);case"easeOutSmooth":return t/=a,t--,-n*(t*t*t*t-1)+e;case"easeOutStrong":return n*(-Math.pow(2,-10*t/a)+1)+e;case"easeOut":default:var o=(t/=a)*t,r=o*t;return e+n*(.499999999999997*r*o+-2.5*o*o+5.5*r+-6.5*o+4*t)}}t._mTween||(t._mTween={top:{},left:{}});var h,f,r=r||{},p=r.onStart||function(){},m=r.onUpdate||function(){},v=r.onComplete||function(){},x=H(),g=0,T=t.offsetTop,S=t.style,w=t._mTween[e];"left"===e&&(T=t.offsetLeft);var b=n-T;w.stop=0,"none"!==o&&d(),c()},H=function(){return _.performance&&_.performance.now?_.performance.now():_.performance&&_.performance.webkitNow?_.performance.webkitNow():Date.now?Date.now():(new Date).getTime()},j=function(){var t=this;t._mTween||(t._mTween={top:{},left:{}});for(var e=["top","left"],n=0;n<e.length;n++){var a=e[n];t._mTween[a].id&&(_.requestAnimationFrame?_.cancelAnimationFrame(t._mTween[a].id):clearTimeout(t._mTween[a].id),t._mTween[a].id=null,t._mTween[a].stop=1)}},N=function(e,n){try{delete e[n]}catch(t){e[n]=null}},W=function(t){return!(t.which&&1!==t.which)},Y=function(t){var e=t.originalEvent.pointerType;return!(e&&"touch"!==e&&2!==e)},X=function(t){return!isNaN(parseFloat(t))&&isFinite(t)};A.fn[s]=function(t){return x[t]?x[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void A.error("Method "+t+" does not exist"):x.init.apply(this,arguments)},A[s]=function(t){return x[t]?x[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void A.error("Method "+t+" does not exist"):x.init.apply(this,arguments)},A[s].defaults=l,_[s]=!0,A(_).load(function(){var t=A(a),r=[];if(t.length){t.each(function(){var t=A(this),e=t.data("mts-axis")||l.axis,n=t.data("mts-type")||l.type,a=t.data("mts-theme")||l.theme,i="auto-"+z+"-"+e+"-"+n+"-"+a,o=[i,e,n];t.addClass(i),-1===A.inArray(i,r)&&r.push(o)});for(var e=0;e<r.length;e++)A("."+r[e][0])[s]({axis:r[e][1],type:r[e][2]})}})}(jQuery,window,document);
